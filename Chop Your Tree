local WindUI

do
    local ok, result = pcall(function()
        return require("./src/Init")
    end)
    
    if ok then
        WindUI = result
    else 
        WindUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
    end
end

function createPopup()
    return WindUI:Popup({
        Title = "Welcome to the WindUI!",
        Icon = "bird",
        Content = "‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏™‡∏Ñ‡∏•‡∏¥‡∏õ‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
        Buttons = {
            {
                Title = "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß",
                Icon = "bird",
            },
        }
    })
end



-- */  Window  /* --
local Window = WindUI:CreateWindow({
    Title = "SLEEP HUB PRO MAX",
    Author = "by .ftgs ‚Ä¢ Footagesus",
    Folder = "ftgshub",
    Icon = "rbxassetid://121030902371363",
    IconSize = 22*2,
    NewElements = true,
    --Size = UDim2.fromOffset(700,700),
    
    HideSearchBar = false,
    
    OpenButton = {
        Title = " SLEEP HIB UI", -- can be changed
        CornerRadius = UDim.new(1,0), -- fully rounded
        StrokeThickness = 3, -- removing outline
        Enabled = true, -- enable or disable openbutton
        Draggable = true,
        OnlyMobile = false,
        
        Color = ColorSequence.new( -- gradient
            Color3.fromHex("#30FF6A"), 
            Color3.fromHex("#e7ff2f")
        )
    },
})










local Tab = Window:Tab({
    Title = "‡∏´‡∏ô‡∏±‡∏≤‡∏´‡∏•‡∏±‡∏Å",
    Icon = "bird", -- optional
    Locked = false,
})









-- SERVICES
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Toggle
local Running = false

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤ Plot ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏≤‡∏Å Attribute Plr
local function GetMyPlot()
    local PlotsFolder = workspace:WaitForChild("Plots")

    for _, plot in ipairs(PlotsFolder:GetChildren()) do
        if plot:GetAttribute("Plr") == LocalPlayer.Name then
            return plot
        end
    end

    return nil
end

-- TOGGLE
local Toggle = Tab:Toggle({
    Title = "‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å",
    Desc = "‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å 0.01 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Plot ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤)",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        Running = state

        if not Running then return end

        task.spawn(function()
            while Running do
                local MyPlot = GetMyPlot()

                if MyPlot then
                    ReplicatedStorage
                        :WaitForChild("Remotes")
                        :WaitForChild("TapButtonClick")
                        :FireServer(MyPlot)
                end

                task.wait(0.01) -- üî• ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å 0.01 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            end
        end)
    end
})


















local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Toggle
local OrbToggle = false
local OrbConnection

local Toggle = Tab:Toggle({
    Title = "‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô",
    Desc = "‡∏î‡∏∂‡∏á Orbs ‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡∏ß",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        OrbToggle = state

        if state then
            -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
            OrbConnection = RunService.Heartbeat:Connect(function()
                if not OrbToggle then return end

                local character = player.Character
                local hrp = character and character:FindFirstChild("HumanoidRootPart")
                if not hrp then return end

                for _, orb in pairs(workspace:WaitForChild("Orbs"):GetChildren()) do
                    if orb:IsA("BasePart") then
                        orb.CFrame = hrp.CFrame
                    end
                end

                task.wait(0.01)
            end)
        else
            -- ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
            if OrbConnection then
                OrbConnection:Disconnect()
                OrbConnection = nil
            end
        end
    end
})













-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
local axeSwingActive = false
local axeSwingConnection = nil

local Toggle = Tab:Toggle({
    Title = "‡∏≠‡∏≠‡πÇ‡∏ï‡πâ‡∏ï‡∏±‡∏î‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ",
    Desc = "Axe Swing Automation",
    Icon = "bird",
    Type = "Checkbox",
    Value = false,
    Callback = function(state)
        axeSwingActive = state
        
        if state then
            -- ‡πÄ‡∏£‡∏¥‡πà‡∏° loop ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î
            axeSwingConnection = game:GetService("RunService").Heartbeat:Connect(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("AxeSwing"):FireServer()
                task.wait(0.01) -- ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 0.01 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            end)
        else
            -- ‡∏´‡∏¢‡∏∏‡∏î loop ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
            if axeSwingConnection then
                axeSwingConnection:Disconnect()
                axeSwingConnection = nil
            end
        end
    end
})
